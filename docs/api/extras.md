# è¾…åŠ©å·¥å…·å‡½æ•°

## 01. è·å–åŒèŠ±é¡ºå¤æƒæ•°æ®

å¯ä»¥æŒ‰å¹´ä»½è·å–å•åªè‚¡ç¥¨çš„å¤æƒè¡Œæƒ…æ•°æ® (è‡ªå·±è®¡ç®—å¤æƒè›‹ç–¼çš„ä¸è¡Œï¼Œè¿™ä¸ªè¯¸ä½å…ˆç”¨ç€å§ ğŸ˜€)

**å‚æ•°è¯´æ˜: **

- symbol: è‚¡ç¥¨ä»£ç ã€‚ `"600300"` æ ¼å¼
- factor: å‰åå¤æƒã€‚ `"00"`: ä¸å¤æƒ, `"01"`: å‰å¤æƒ, `"02"`: åå¤æƒ
- year: è·å–æ•°æ®çš„å¹´ä»½ã€‚ `"2021"` æ ¼å¼, é»˜è®¤å½“å‰å¹´ä»½

è¿”å›å€¼ï¼š

- pd.DataFrame

**è°ƒç”¨æ–¹æ³•ï¼š**

```python
from mootdx.contrib.adjust import get_adjust_year

get_adjust_year(symbol='000001', year='2021', factor='01')
```

ä»¥ä¸‹ä¸ºè¿”å›å†…å®¹æ ¼å¼

```shell
Out[2]:
             open   high    low  close     volume         amount adjust
date
2021-01-04  18.92  18.92  18.26  18.42  155421640  2891682300.00  0.801
2021-01-05  18.22  18.30  17.62  17.99  182135210  3284606900.00  0.939
2021-01-06  17.90  19.38  17.82  19.38  193494510  3648521900.00  0.997
2021-01-07  19.34  19.80  19.05  19.72  158418530  3111274600.00  0.816
2021-01-08  19.72  19.92  19.13  19.67  119547322  2348316400.00  0.616
...           ...    ...    ...    ...        ...            ...    ...
2021-09-02  18.00  18.78  17.80  18.40  242260350  4454545300.00  1.248
2021-09-03  18.50  18.50  17.70  18.04  139481870  2523273200.00  0.719
2021-09-06  17.93  18.60  17.78  18.45  151522560  2780281100.00  0.781
2021-09-07  18.60  19.56  18.35  19.24  162234420  3067365700.00  0.836
2021-09-08  19.24  19.55  19.10  19.31   88944393  1716830500.00  0.458

[168 rows x 7 columns]
```

## 02. TDXå¯¼å‡ºæ•°æ®è½¬ä¸º pandas å¯ç”¨çš„ csv æ–‡ä»¶

å°†TDXé€šè¿‡æ•°æ®å·¥å…·å¯¼å‡ºçš„txtæ–‡ä»¶è½¬æ¢ä¸ºæ ‡å‡†çš„csvæ–‡ä»¶(å…¶å®ä¸è½¬å›pandas ä¹Ÿå¯ä»¥è¯»å–ï¼Œåªæ˜¯ä½¿ç”¨æ—¶å€™æ¯”è¾ƒéº»çƒ¦)

**å‚æ•°è¯´æ˜: **

- infile: è¾“å…¥æ–‡ä»¶
- outfile: è½¬æ¢åçš„æ–‡ä»¶ï¼Œå¯ä¸ºç©º

è¿”å›å€¼ï¼š

- pd.DataFrame

**è°ƒç”¨æ–¹æ³•ï¼š**

```python
from mootdx.tools import tdx2csv

tdx2csv.txt2csv(infile='sz#000001.txt', outfile='sz#000001.csv')
```

## 03. TDXå¯¼å‡ºæ•°æ®è½¬ä¸º pandas å¯ç”¨çš„ csv æ–‡ä»¶(æ‰¹é‡å¼‚æ­¥æ¥å£)

å°†TDXé€šè¿‡æ•°æ®å·¥å…·å¯¼å‡ºçš„txtæ–‡ä»¶è½¬æ¢ä¸ºæ ‡å‡†çš„csvæ–‡ä»¶(å…¶å®ä¸è½¬å›pandas ä¹Ÿå¯ä»¥è¯»å–ï¼Œåªæ˜¯ä½¿ç”¨æ—¶å€™æ¯”è¾ƒéº»çƒ¦)

**å‚æ•°è¯´æ˜: **

- src: è¦æ¢è¡Œçš„ç›®å½•(tdxå¯¼å‡ºæ–‡ä»¶ç›®å½•)
- dst: è½¬æ¢åçš„ç›®å½•

è¿”å›å€¼ï¼š

- None

**è°ƒç”¨æ–¹æ³•ï¼š**

```python
from mootdx.tools import tdx2csv

tdx2csv.batch(src='c:/tdx/export', dst='c:/tdx/output')
```

## 04. äº¤æ˜“æ—¥å†æ•°æ®

è¿”å›å€¼ï¼š

- pd.DataFrame

**è°ƒç”¨æ–¹æ³•ï¼š**

```python
from mootdx.utils import holiday

# è·å–å…¨éƒ¨äº¤æ˜“æ—¥æœŸ
days = holiday.holiday()

# åˆ¤æ–­ä¸€ä¸ªæ—¥æœŸæ˜¯å¦æ˜¯äº¤æ˜“æ—¥
holiday.holiday(date='2020-02-02')

# åˆ¤æ–­å½“å¤©æ—¥æœŸæ˜¯å¦æ˜¯äº¤æ˜“æ—¥ï¼ˆdateçš„å€¼åªè¦æ˜¯éæ—¥æœŸæ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œéƒ½è½¬æ¢ä¸ºå½“å¤©æ—¥æœŸï¼‰
holiday.holiday(date='now')
```
